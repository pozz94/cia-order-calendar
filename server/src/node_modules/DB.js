import mysql from 'mysql';

class Connection {
  static #con = null;

  static getCon = () => {
    if (Connection.#con===null)
    {
      Connection.#con = mysql.createConnection({
        host     : process.env.DB_HOST,
        port     : process.env.DB_PORT,
        user     : process.env.DB_USER,
        password : process.env.DB_PASS,
		database : process.env.DB_NAME,
		multipleStatements: true
      });
      Connection.#con.connect();
    }
    return Connection.#con;
  };

  static end = ()=>{
    if (Connection.#con!==null)
    {
      Connection.#con.end();
      Connection.#con=null;
    }
  };
}

export default Connection;