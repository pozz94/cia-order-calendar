import React from "react";
import ColorPickerContext from "./Context";
import Swatch from "./Swatch"

const swatches = props => {
	let colors = [];
	//colors = props.colors;
	if (Array.isArray(props.colors)) {
		colors = props.colors;
	}
	else if (typeof props.colors === "object") {
		Object.keys(props.colors).forEach(function(key) {
			colors = [...colors, { key, value: props.colors[key] }];
		});
	}
	return <ColorPickerContext.Consumer>
		{context => (
			<div
				className={[
					context.theme && context.theme.swatches,
					props.className
				]
					.join(" ")
					.trim()}
				style={props.style}
			>
				{colors.map((color, index) => (
					<Swatch
						color={color.value||color}
						key={index}
						className={props.swatchClassName}
						style={props.swatchStyle}
					>{color.key||""}</Swatch>
				))}
			</div>
		)}
	</ColorPickerContext.Consumer>
};

export default swatches;
