import React from "react";
import ColorPickerContext from "../Context";
import { hsl2string } from "../utils/converters";

const hue = props => (
	<ColorPickerContext.Consumer>
		{context => {
			const HSL = context.hsl;
			let red = { ...HSL },
				yellow = { ...HSL },
				green = { ...HSL },
				cyan = { ...HSL },
				blue = { ...HSL },
				magenta = { ...HSL };
			red.h = 0;
			yellow.h = 60;
			green.h = 120;
			cyan.h = 180;
			blue.h = 240;
			magenta.h = 300;
			return (
				<input
					className={[
						context.theme && context.theme.hue,
						context.theme && context.theme.slider,
						props.className
					]
						.join(" ")
						.trim()}
					style={{
						WebkitAppearance: "none",
						background: `linear-gradient(90deg,
							${[
								hsl2string(red),
								hsl2string(yellow),
								hsl2string(green),
								hsl2string(cyan),
								hsl2string(blue),
								hsl2string(magenta),
								hsl2string(red),
							].join(",")} )`,
						...props.style
					}}
					type="range"
					onChange={e => {
						let HSL = context.hsl;
						HSL.h = e.target.value;
						context.updateColorHSL(HSL);
					}}
					min="0"
					max="360"
					value={context.hsl.h}
					step="1"
				/>
			);
		}}
	</ColorPickerContext.Consumer>
);

export default hue;
